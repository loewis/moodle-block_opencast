define(["jquery"],function(a){function b(){window.presentationRun||window.presenterRun||(clearInterval(window.presentationIntervalHandle),clearInterval(window.presenterIntervalHandle),a('[name="submitbutton"]').removeAttr("disabled"))}function c(){a('div[data-fieldtype="autocomplete"]').each(function(b,c){var d=a(c).find("input");d.hasClass("form-control")||d.addClass("form-control")})}window.presenterIntervalHandle=null,window.presentationIntervalHandle=null,window.presenterRun=!1,window.presentationRun=!1;var d=function(){a(".filepicker-filelist").on("drop",function(c){var d=c.currentTarget,e=a(d).parent().siblings(".filepickerhidden").attr("name");a('[name="submitbutton"]').attr("disabled","disabled"),"video_presenter"==e?(a(d).addClass("presenter-uploading"),window.presenterIntervalHandle=setInterval(function(){window.presenterRun=!0,a(".presenter-uploading").hasClass("dndupload-inprogress")||(window.presenterRun=!1,b())},500)):(a(d).addClass("presentation-uploading"),window.presenterIntervalHandle=setInterval(function(){window.presentationRun=!0,a(".presentation-uploading").hasClass("dndupload-inprogress")||(window.presentationRun=!1,b())},500))}),setTimeout(function(){c(),a(".moreless-actions").on("click",function(){c()})},1e3)};return{init:d}});